# Midterm Clarification

- The journey of a keystroke from when you press a key on your keyboard to the point where it triggers an interrupt request (IRQ) and is eventually processed by the operating system involves several steps. Here's a simplified overview of the process:

- Key Press: When you press a key on your keyboard, an electrical circuit within the keyboard is completed, which generates an electrical signal corresponding to the key that was pressed.

- Keyboard Controller: The electrical signal from the keypress is sent to the keyboard controller. The keyboard controller is a microcontroller embedded in the keyboard, and it processes the keypress signal.

- Scan Code Generation: The keyboard controller translates the keypress into a scan code, which is a unique code assigned to each key on the keyboard. This scan code is used to identify which key was pressed.

- IRQ Line: The keyboard controller communicates with the computer's CPU through an interrupt request (IRQ) line. The keyboard is typically assigned a specific IRQ line (e.g., IRQ 1) for this purpose.

- Interrupt Request: When a key is pressed and the scan code is generated, the keyboard controller sends an interrupt request to the CPU by asserting the assigned IRQ line. This signals the CPU that a keyboard-related event has occurred and needs to be processed.

- IRQ Handler: The CPU, upon receiving the interrupt request, invokes the appropriate IRQ handler for the keyboard. The IRQ handler is a part of the operating system's kernel and is responsible for processing keyboard input.

- Input Processing: The IRQ handler reads the scan code generated by the keyboard controller and converts it into a more recognizable form, such as an ASCII character or a virtual key code. This processed input is then passed to the appropriate application or service.

- User Interaction: The application or service that receives the keyboard input can now react to the keypress, updating the user interface or performing the desired action.

- It's important to note that this is a simplified overview, and the actual process may vary depending on the hardware and operating system in use. Additionally, modern keyboards may use USB or other protocols, which have slightly different mechanisms, but the fundamental concept of using interrupts and scan codes to handle keyboard input remains similar.

## 6. What type of linking is a system call: static or dynamic? Why? 


- System calls in an operating system are typically implemented using dynamic linking. Here's why:

- Dynamic Linking for Efficiency: System calls are core components of the operating system, and they are frequently used by various programs and processes. Dynamic linking allows the operating system to load and manage system call routines more efficiently. With dynamic linking, the code for system calls is stored in shared libraries (e.g., DLLs on Windows or shared objects on Unix-like systems). These libraries are loaded into memory only once, and multiple processes can share the same instance of the code. This reduces memory usage and makes the system more efficient.

- Runtime Loading: Dynamic linking enables the operating system to load and link the system call code at runtime. This means that system call implementations can be updated or patched without requiring a recompilation of the entire operating system or any dependent programs. This flexibility is important for maintaining and updating an operating system without causing disruption.

- Isolation: Dynamic linking also allows for isolation between processes. Each process can have its own virtual address space, and when a system call is invoked, the operating system can switch context and execute the appropriate code in the kernel while maintaining the separation between processes. This is a key aspect of memory protection and security in modern operating systems.

- Shared Libraries: Many operating systems and libraries use shared libraries for various functions, not just system calls. Dynamic linking allows multiple programs to share these libraries, again reducing memory usage and enabling updates to shared code without recompiling all dependent programs.

- In contrast, static linking involves including the actual code of the linked functions in the program executable, making the binary larger and less efficient in terms of memory usage and updates. System calls are typically too fundamental and numerous to be statically linked into every program, which would be impractical.

- So, to summarize, dynamic linking is preferred for system calls because it offers better efficiency, runtime loading, isolation, and maintainability, which are all important aspects of modern operating systems.